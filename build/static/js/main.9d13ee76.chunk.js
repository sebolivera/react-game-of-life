(this.webpackJsonptiles=this.webpackJsonptiles||[]).push([[0],{139:function(t,e,a){},140:function(t,e,a){},226:function(t,e,a){"use strict";a.r(e);var i=a(0),n=a(15),s=a.n(n),r=a(42),o=a(43),l=a(70),c=a(69),d=(a(139),a(109)),h=a(122),u=a(4),b=a(13),p=a(14);function j(t){return Math.floor(Math.random()*t)}function x(){for(var t=0,e=0;0===t;)t=Math.random();for(;0===e;)e=Math.random();var a=Math.sqrt(-2*Math.log(t))*Math.cos(2*Math.PI*e);return(a=a/10+.5)>1||a<0?x():a}function f(t){return Math.floor(x()*t)}function m(t,e,a){for(var i=a.length-1,n=a[0].length-1,s=0,r=Math.max(0,t-1);r<=Math.min(t+1,i);r++)for(var o=Math.max(0,e-1);o<=Math.min(e+1,n);o++)r===t&&o===e||1!==a[r][o]||s++;return s}a(140);var g=a(85),v=a.n(g),S=a(72),w=(a(210),a(211),a(212),a(213),a(214),a(273)),O=a(274),y=a(275),M=a(276),k=a(271),C=a(272),z=a(266),D=a(269),R=a(268),T=a(121),P=a(118),W=a(36),N=a(37),I=a(38),L=a(120),B=a.n(L),E=a(117),F=a.n(E),G=a(2),H=["value","dragging","index"],U=S.b.Handle,q=Object(T.a)({palette:{primary:{main:P.a[500]},secondary:{main:W.a[500]},danger:{main:N.a[500]},warning:{main:I.a[500]}}}),A=function(t){Object(l.a)(a,t);var e=Object(c.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).state={board:[],width:0,height:0,context:null,paused:!0,btnText:"Play",notRestarted:!0,gameSpeed:1,gridLines:!0,darkMode:!0,tileSize:10,arrowPoint:180,menuShowText:"Show"},n.printLog=function(t){console.log("arg:",t)},n.goLive=function(){n.timeoutID=setTimeout((function(){return n.live()}),n.ticks)},n.draw=function(){var t=n.state.board,e=n.state.context,a=n.state.gridLines;e.beginPath(),n.state.darkMode?(e.fillStyle="black",e.strokeStyle="white"):(e.fillStyle="white",e.strokeStyle="black"),e.fillRect(0,0,n.state.width,n.state.height),e.lineWidth=.1,n.state.darkMode?e.fillStyle="lightblue":e.fillStyle="red";for(var i=t.length,s=t[0].length,r=0;r<i;r++)for(var o=0;o<s;o++)1===t[r][o]&&e.fillRect(o*n.state.tileSize,r*n.state.tileSize,n.state.tileSize,n.state.tileSize),a&&e.strokeRect(o*n.state.tileSize,r*n.state.tileSize,n.state.tileSize,n.state.tileSize);n.setState({context:e})},n.live=function(){if(!n.state.paused){for(var t=n.state.board.length,e=n.state.board[0].length,a=[],i=[],s=0;s<n.state.board.length;s++){var r=n.state.board[s].slice(),o=n.state.board[s].slice();a.push(r),i.push(o)}for(var l=0;l<t;l++)for(var c=0;c<e;c++){switch(m(l,c,a)){case 2:break;case 3:i[l][c]=1;break;default:i[l][c]=0}}n.setState({board:i},n.draw),n.goLive()}},n.update=function(){n.state.notRestarted&&(n.draw(),n.goLive())},n.getCell=function(t,e){return[Math.max(0,Math.min(n.state.board.length-1,Math.floor(e/n.state.tileSize))),Math.max(0,Math.min(n.state.board[0].length-1,Math.floor(t/n.state.tileSize)))]},n.pause=function(){n.state.paused?(n.setState({btnText:"Pause"}),n.setState({paused:!1},n.update)):(n.setState({btnText:"Play"}),n.setState({paused:!0}))},n.seedClusters=function(t,e){for(var a=Object(p.a)(t),i=function(i){for(var s=function(s){e.forEach((function(e){var r=f(n.maxClusterSize),o=function(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2));return Math.max(0,(Math.abs(1-i)+a-n)/n)}(e,[i,s],r,n.clusterDensity);o>0&&((Math.random()<=o||e.toString()===[i,s])&&(a[i][s]=1));t[e[0]][e[1]]=1}))},r=0;r<a[0].length;r++)s(r)},s=0;s<a.length;s++)i(s);return a},n.initBoard=function(){for(var t=[],e=Math.floor(n.state.height/n.state.tileSize),a=Math.floor(n.state.width/n.state.tileSize),i=0;i<e;i++){for(var s=[],r=0;r<a;r++)s.push(0);t.push([].concat(s))}n.setState({board:t},n.update)},n.setSpeed=function(){n.ticks=1e3/n.state.gameSpeed,clearTimeout(n.timeoutID),n.timeoutID=setTimeout((function(){return n.live()}),n.ticks)},n.updateSpeed=function(t){n.setState({gameSpeed:n.sliderRanges[t]},n.setSpeed)},n.updateGridLines=function(t){n.setState({gridLines:!n.state.gridLines},n.draw)},n.updateMode=function(t){n.state.darkMode?document.body.style.backgroundColor="white":document.body.style.backgroundColor="black",n.setState({darkMode:!n.state.darkMode},n.draw)},n.handleCollapse=function(t){var e,a=(n.state.arrowPoint+180)%360;e="Show"===n.state.menuShowText?"Hide":"Show",n.setState({menuCollapse:!n.state.menuCollapse,arrowPoint:a,menuShowText:e})},n.updateTileSize=function(t){n.setState({tileSize:t.target.value},n.initBoard),n.draw()},n.canvas=Object(i.createRef)(),n.divElement=Object(i.createRef)(),n.clusterStarterPercentage=.1,n.maxClusterSize=10,n.clusterDensity=1,n.timeoutID=null,n.sliderRanges={0:.001,1:.01,2:.1,3:1,4:2,5:5,6:10,7:25,8:50,9:100},n.ticks=1e3,n}return Object(o.a)(a,[{key:"seedBoard",value:function(){for(var t=Object(p.a)(this.state.board),e=t.length,a=t[0].length,i=this.clusterStarterPercentage/100*(a*e),n=[];i>0;){var s=j(e),r=j(a);1!==t[s][r]&&(t[s][r]=1,n.push([s,r]),i--)}t=this.seedClusters(t,n),this.setState({board:t},this.draw)}},{key:"onClick",value:function(t){var e=s.a.findDOMNode(this).getBoundingClientRect(),a=t.pageX-e.left,i=t.pageY-e.top,n=this.getCell(a,i),r=Object(b.a)(n,2),o=r[0],l=r[1];void 0!==this.state.board&&o<this.state.board.length&&l<this.state.board[0].length&&(1===this.state.board[o][l]?this.setState({board:v()(this.state.board,Object(u.a)({},o,Object(u.a)({},l,{$set:0})))},this.draw):this.setState({board:v()(this.state.board,Object(u.a)({},o,Object(u.a)({},l,{$set:1})))},this.draw))}},{key:"componentDidMount",value:function(){this.updateWindowDimensions(),this.updateWindowDimensions=this.updateWindowDimensions.bind(this)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutID)}},{key:"updateWindowDimensions",value:function(){clearTimeout(this.timeoutID),this.setState({width:this.divElement.clientWidth,height:this.divElement.clientHeight-4,context:this.canvas.current.getContext("2d")},this.initBoard)}},{key:"handle",value:function(t){var e=t.value,a=t.dragging,i=t.index,n=Object(h.a)(t,H);return Object(G.jsx)(S.a,{prefixCls:"rc-slider-tooltip",overlay:{0:"Ultra Slow",1:"Super Slow",2:"Slow",3:"Normal",4:"Slightly Faster",5:"Faster",6:"Fast",7:"Very Fast",8:"Stupid Fast",9:"Why"}[e],visible:a,placement:"top",children:Object(G.jsx)(U,Object(d.a)({value:e},n))},i)}},{key:"render",value:function(){var t=this;return Object(G.jsx)(w.a,{theme:q,children:Object(G.jsx)("div",{className:"mainContainer",ref:function(e){t.divElement=e},children:Object(G.jsxs)("div",{className:"canvasContainer",children:[Object(G.jsx)("canvas",{onClick:this.onClick.bind(this),ref:this.canvas,width:this.state.width,height:this.state.height}),Object(G.jsx)("div",{className:"menuContainer",children:Object(G.jsx)("div",{className:"mainPannel",children:Object(G.jsx)(F.a,{cancel:".rc-slider",children:Object(G.jsxs)(O.a,{sx:{bgcolor:"text.secondary",p:"1vw"},children:[Object(G.jsx)("label",{htmlFor:"icon-button-toggle",children:Object(G.jsxs)(y.a,{color:"primary","aria-label":"hide show pannel",component:"span",onClick:this.handleCollapse,children:[Object(G.jsx)(B.a,{style:{transform:"rotate(".concat(this.state.arrowPoint,"deg)"),color:"white"}}),Object(G.jsxs)("button",{className:"aNoStyle white-text",children:[this.state.menuShowText," ","menu"]})]})}),Object(G.jsx)(M.a,{in:this.state.menuCollapse,children:Object(G.jsx)(O.a,{sx:{p:"1vw"},children:Object(G.jsx)("div",{className:"UIWrapper",children:Object(G.jsxs)(k.a,{container:!0,spacing:2,children:[Object(G.jsxs)(O.a,{sx:{width:"100%",display:"flex",justifyContent:"space-evenly",py:"10px"},children:[Object(G.jsx)(C.a,{variant:"contained",color:"warning",onMouseDown:this.pause,sx:{minWidth:"120px"},children:this.state.btnText}),Object(G.jsx)(C.a,{variant:"contained",color:"secondary",onMouseDown:this.seedBoard.bind(this),sx:{minWidth:"120px"},children:"Clusterize"})]}),Object(G.jsxs)(O.a,{sx:{width:"100%",display:"flex",justifyContent:"space-evenly",py:"10px"},children:[Object(G.jsx)(C.a,{variant:"contained",color:"danger",onMouseDown:this.initBoard,sx:{minWidth:"120px"},xs:6,children:"Restart"}),Object(G.jsx)("div",{className:"fakeButton",children:Object(G.jsx)(z.a,{variant:"outlined",type:"number",InputProps:{inputProps:{max:Math.floor(this.state.width/10),min:1}},sx:{label:{color:"white"},input:{color:"white"},backgroundColor:"#d3d3d31c",borderRadius:"10px"},value:this.state.tileSize,onChange:this.updateTileSize.bind(this),label:"Tile Size"})})]}),Object(G.jsxs)(k.a,{container:!0,sx:{width:"100%",display:"flex",justifyContent:"space-evenly",py:"10px"},children:[Object(G.jsx)(O.a,{xs:6,sx:{color:"white",maxWidth:"200px",borderRadius:"10px"},children:Object(G.jsx)(D.a,{control:Object(G.jsx)(R.a,{defaultChecked:!0}),label:"Show Grid",onChange:this.updateGridLines.bind(this)})}),Object(G.jsx)(O.a,{xs:6,sx:{color:"white",maxWidth:"200px",borderRadius:"10px"},children:Object(G.jsx)(D.a,{control:Object(G.jsx)(R.a,{defaultChecked:!0}),label:"DarkMode",onChange:this.updateMode.bind(this)})})]}),Object(G.jsxs)(k.a,{container:!0,sx:{width:"100%",display:"flex",justifyContent:"space-evenly",py:"10px"},children:[Object(G.jsx)(k.a,{item:!0,xs:3,children:Object(G.jsx)("label",{className:"floatRight",children:"Speed"})}),Object(G.jsx)(k.a,{item:!0,xs:6,children:Object(G.jsx)(S.b,{id:"iAmSpeed",min:0,max:9,marks:this.sliderRanges,defaultValue:3,step:null,onChange:this.updateSpeed.bind(this),xs:9,handle:this.handle.bind(this)})})]})]})})})})]})})})})]})})})}}]),a}(i.Component),J=A,V=function(t){Object(l.a)(a,t);var e=Object(c.a)(a);function a(){return Object(r.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(G.jsx)("div",{className:"App",children:Object(G.jsx)(J,{})})}}]),a}(i.Component),$=V;s.a.render(Object(G.jsx)($,{}),document.getElementById("root"))}},[[226,1,2]]]);
//# sourceMappingURL=main.9d13ee76.chunk.js.map